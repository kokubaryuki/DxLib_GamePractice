#include"SceneManager.h"

#include"TitleScene.h"

#include"GameMainScene.h"

#include"GameClearScene.h"

#include"GameOverScene.h"

/****************************

*マクロ定義

*****************************/

/*****************************

*型定義

******************************/

/******************************

*変数宣言

******************************/

GAME_MODE Game_Mode;      

GAME_MODE Next_Mode;

/*************************

*プロトタイプ宣言

****************************/


/**************************

*シーン管理機能:初期化処理
* 引数：なし
* 戻り値：なし

********************************/


int SceneManager_Initialize(GAME_MODE mode)

{

	int Read_Error;


	//シーン読み込み
	//タイトル画面

	Read_Error = TitleScene_Initialize();

	if (Read_Error == D_ERROR)

	{

		return D_ERROR;
	}

	//ゲームメイン画面

	Read_Error = GameMainScene_Initialze();

	if (Read_Error == D_ERROR)

	{

		return D_ERROR;

	}

	//ゲームクリア画面

	Read_Error = GameClearScene_Initialize();

	if (Read_Error == D_ERROR)

	{

		return D_ERROR;

	}

	//ゲームオーバー画面

	Read_Error = GameOverscene_Initialize();

	if (Read_Error == D_ERROR)

	{

		return D_ERROR;

	}

	Game_Mode = mode;

	Next_Mode = Game_Mode;

	return Read_Error;


}

/****************************************

*シーン管理機能：更新処理
* 引数：なし
* 戻り値なし

*****************************************/

void SceneManager_+(void)

{

	//前フレームとゲームモードが違ってたらシーンを切り替える

	if (Game_Mode != Next_Mode)

	{

		SceneManager_Initialize(Next_Mode);

	}

	//各画面の更新

	switch (Game_Mode)

	{

	case E_TITLE:

		TitleScene_Update();

		break;

	case E_GAMEMAIN:

		ganemainScene_Update();

		break;

	case E_GAME_CLEAR:

		GameClearScene_Update();

		break;

	case E_GAME_OVER:

		GameOVerScene_Update();

		break;


	default:

		break;



	}



}

/******************************

*ソーン管理機能：描画処理
* 引数：なし
* 戻り値：なし

********************************/

void SceneManager_Draw(void)

{

	Next_Mode = mode;

}







